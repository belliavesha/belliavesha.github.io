<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collatz Conjecture Explorer - Pure JavaScript</title>
    <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h2>Collatz Conjecture Explorer</h2>
        </header>

        <div class="main-content">
            <div class="rules-panel panel">
                <h2>Rules Configuration</h2>
                

                <div class="preset-buttons">
                    <button class="btn btn-primary btn-small" onclick="loadClassic()">Classic</button>
                    <button class="btn btn-primary btn-small" onclick="loadAlternative()">Alt mod 2</button>
                    <button class="btn btn-primary btn-small" onclick="loadMod3()">Mod 3 </button>
                    <button class="btn btn-primary btn-small" onclick="loadMod5()">Mod 5 </button>
                </div>
                <div class="rule-mode-section">
                    <!-- <label for="rule-count">Number of Rules:</label> -->
                    <div class="rule-number-selector">
                        <label for="rule-count", class="rule-header">Mod:</label>
                        <input type="number" id="rule-count" min="2" max="10" value="2" onchange="generateRules()">
                        <!-- <button onclick="generateRules()" class="generate-btn">Generate Rules</button> -->
                    </div>
                </div>

                <div class="rules-container">
                    <div id="rules-list"></div>
                </div>
            </div>

            <div class="center-section panel">
               
                
                <div class="grid-section">
                    <h2 id="grid-title">Start values</h2>
                    <div class="grid-controls info-box">
                        <div class="grid-size-section">
                            <label for="grid-size", class="rule-header">Grid Size:</label>
                            <select id="grid-size" onchange="changeGridSize()">
                                <option value="10" selected>10 x 10</option>
                                <option value="16">16 x 16</option>
                                <option value="20">20 x 20</option>
                                <option value="25">25 x 25</option>
                                <!-- <option value="30">30 x 30</option>
                                <option value="35">35 x 35</option> -->
                                <option value="40">40 x 40</option>
                                <!-- <option value="45">45 x 45</option> -->
                                <option value="50">50 x 50</option>
                                <!-- <option value="55">55 x 55</option>
                                <option value="60">60 x 60</option>
                                <option value="65">65 x 65</option>
                                <option value="70">70 x 70</option>
                                <option value="75">75 x 75</option> -->
                                <option value="80">80 x 80</option>
                                <!-- <option value="85">85 x 85</option>
                                <option value="90">90 x 90</option>
                                <option value="95">95 x 95</option> -->
                                <option value="100">100 x 100</option>
                            </select>
                            <button onclick="simulateGrid()" class="btn btn-success btn-small">Run</button>
                            <button onclick="clearAllRules()" class="btn btn-danger btn-small">Clear</button>
                            <!-- <button id="generateGrid" onclick="changeGridSize()">Generate Grid</button>  -->
                        </div>
                                                    
             
                    </div>

                    <div class="grid-container">
                        <div id="simulation-grid" class="grid"></div>
                    </div>
                    <div class="sequence-display" id="sequence-display">seq display</div>
                </div>
            </div>

            <div class="cycle-panel panel">
                <h2> Convergence</h2>

                <div class="info-box">
                    <h3>General Statistics</h3>
                    <div class="stat-row">
                        <span class="stat-label">Number of cycles:</span>
                        <span class="stat-value" id="cycles-found">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Absolute Max Length:</span>
                        <span class="stat-value" id="max-length-stat">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Absolute Max Height:</span>
                        <span class="stat-value" id="max-height-stat">-</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Overflow Sequences:</span>
                        <span class="stat-value" id="overflow-count-stat">0</span>
                    </div>
                </div>

                <div class="coloring-options">
                    <h3>Grid Coloring</h3>
                    <div class="coloring-buttons">
                        <button class="btn btn-primary btn-small coloring-btn active" data-mode="cycle"> Cycle</button>
                        <button class="btn btn-primary btn-small coloring-btn" data-mode="length"> Length</button>
                        <button class="btn btn-primary btn-small coloring-btn" data-mode="height"> Height</button>
                    </div>
                </div>

                <div id="cycle-list"></div>

                
            </div>
        </div>

        <div class="loading-overlay" id="loading">
            <div class="loading-spinner"></div>
            <div class="loading-text" id="loading-text">Simulating...</div>
        </div>

        <div class="tooltip" id="tooltip"></div>
    </div>

    <script src="static/js/collatz_engine.js"></script>
    <script src="static/js/script.js"></script>
    
    <!-- Authorship Footer -->
    <footer class="authorship">
        <div class="authorship-content">
            <span class="author-text">
                by <a href="https://belliavesha.github.io" target="_blank" class="author-link" rel="noopener">Vlad Loktev</a> 
                using <a href="https://chat.z.ai" target="_blank" class="author-link" rel="noopener">GLM-4.6</a>
                via  <a href="https://factory.ai" target="_blank" class="author-link" rel="noopener">droid</a>
                
            </span>
        </div>
    </footer>
</body>
</html>

